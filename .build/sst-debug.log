[2022-08-29T12:46:32.793] [DEBUG] default - SST: 1.8.4
[2022-08-29T12:46:32.801] [DEBUG] default - CDK: 2.32.0
[2022-08-29T12:46:32.817] [DEBUG] aws-auth - Determining if we're on an EC2 instance.
[2022-08-29T12:46:32.818] [DEBUG] aws-auth - Does not look like an EC2 instance.
[2022-08-29T12:46:32.948] [INFO] default - Using stage: mvalenzuela
[2022-08-29T12:46:32.952] [INFO] default - [90mPreparing your SST app[39m
[2022-08-29T12:46:33.808] [INFO] default - 
[2022-08-29T12:46:33.808] [INFO] default - =======================
[2022-08-29T12:46:33.809] [INFO] default -  Deploying debug stack
[2022-08-29T12:46:33.810] [INFO] default - =======================
[2022-08-29T12:46:33.811] [INFO] default - 
[2022-08-29T12:46:33.812] [DEBUG] default - synth {
  app: 'node bin/index.mjs notes mvalenzuela us-east-1 "/Users/mvalenzuela/Documents/SST/notes"',
  output: 'cdk.out',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-08-29T12:46:39.570] [TRACE] cdk - 

[2022-08-29T12:46:39.610] [DEBUG] default - checkInReviewBootstrapStacks
[2022-08-29T12:46:39.610] [DEBUG] default - checkInReviewBootstrapStackInRegion us-east-1
[2022-08-29T12:46:40.427] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-debug-stack","name":"mvalenzuela-notes-debug-stack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-08-29T12:46:40.427] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-debug-stack","name":"mvalenzuela-notes-debug-stack","status":"pending","dependencies":[],"region":"us-east-1","events":[]}]
[2022-08-29T12:46:40.429] [DEBUG] default - deploy stack: started mvalenzuela-notes-debug-stack
[2022-08-29T12:46:40.429] [DEBUG] default - deploy stack: get pre-deploy status
[2022-08-29T12:46:42.016] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'CREATE_COMPLETE',
  LastUpdatedTime: 2022-08-22T14:14:51.334Z
}
[2022-08-29T12:46:42.029] [DEBUG] default - deploy stack: addInUseExports
[2022-08-29T12:46:42.032] [DEBUG] default - deploy stack: isTemplateChanged
[2022-08-29T12:46:42.967] [DEBUG] default - Resources:
  TableCD117FA1:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Table/Resource
  Bucket83908E77:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 1
            Prefix: payloads/
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: 'true'
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Bucket/Resource
  BucketPolicyE9A3008A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: Bucket83908E77
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - Bucket83908E77
                  - Arn
              - Fn::Join:
                  - ''
                  - - Fn::GetAtt:
                        - Bucket83908E77
                        - Arn
                    - /*
        Version: '2012-10-17'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Bucket/Policy/Resource
  BucketAutoDeleteObjectsCustomResourceBAFD23C2:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: Bucket83908E77
    DependsOn:
      - BucketPolicyE9A3008A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Bucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: >-
            arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: ac9d3642b3e0626d3a6d8c4f5f56507a478c329febdf1dcfbbf7c7db9812cd30.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs14.x
      Description:
        Fn::Join:
          - ''
          - - 'Lambda function for auto-deleting objects in '
            - Ref: Bucket83908E77
            - ' S3 bucket.'
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.ac9d3642b3e0626d3a6d8c4f5f56507a478c329febdf1dcfbbf7c7db9812cd30
      aws:asset:property: Code
  Api:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      Name: mvalenzuela-notes-debug-stack-api
      ProtocolType: WEBSOCKET
      RouteSelectionExpression: $request.body.action
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Api
  ApiStage:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: Api
      StageName: mvalenzuela
      AutoDeploy: true
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/ApiStage
  ConnectServiceRole07B61CE8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/ServiceRole/Resource
  ConnectServiceRoleDefaultPolicyCE008EDB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ConnectServiceRoleDefaultPolicyCE008EDB
      Roles:
        - Ref: ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/ServiceRole/DefaultPolicy/Resource
  Connect5B7625CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ConnectServiceRole07B61CE8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsConnect.main
      MemorySize: 256
      Runtime: nodejs16.x
      Timeout: 10
    DependsOn:
      - ConnectServiceRoleDefaultPolicyCE008EDB
      - ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectLogRetentionC1F463CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Connect5B7625CA
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/LogRetention/Resource
  ConnectConnectPermission9DBC7813:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Connect5B7625CA
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/ConnectPermission
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutRetentionPolicy
              - logs:DeleteRetentionPolicy
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs14.x
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: ae967c277459e8936ac565a71d34ea5dcff7b98e556466c36a4d6da023a2d9aa.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
    DependsOn:
      - >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.ae967c277459e8936ac565a71d34ea5dcff7b98e556466c36a4d6da023a2d9aa
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Connect5B7625CA
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/ConnectIntegration
  ConnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $connect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ConnectIntegration
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/ConnectRoute
  DisconnectServiceRole90AEC2EB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/ServiceRole/Resource
  DisconnectServiceRoleDefaultPolicy32856207:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: DisconnectServiceRoleDefaultPolicy32856207
      Roles:
        - Ref: DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Disconnect/ServiceRole/DefaultPolicy/Resource
  Disconnect7D6B12BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - DisconnectServiceRole90AEC2EB
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDisconnect.main
      MemorySize: 256
      Runtime: nodejs16.x
      Timeout: 10
    DependsOn:
      - DisconnectServiceRoleDefaultPolicy32856207
      - DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DisconnectLogRetentionE61D7937:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Disconnect7D6B12BD
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/LogRetention/Resource
  DisconnectDisconnectPermission933E876E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Disconnect7D6B12BD
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/DisconnectPermission
  DisconnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Disconnect7D6B12BD
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DisconnectIntegration
  DisconnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $disconnect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DisconnectIntegration
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DisconnectRoute
  ServiceRole4288B192:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/ServiceRole/Resource
  ServiceRoleDefaultPolicy94CF55F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ServiceRoleDefaultPolicy94CF55F6
      Roles:
        - Ref: ServiceRole4288B192
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/ServiceRole/DefaultPolicy/Resource
  Resource:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ServiceRole4288B192
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDefault.main
      MemorySize: 256
      Runtime: nodejs16.x
      Timeout: 10
    DependsOn:
      - ServiceRoleDefaultPolicy94CF55F6
      - ServiceRole4288B192
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LogRetentionDD0A1FA1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Resource
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/LogRetention/Resource
  DefaultPermission:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Resource
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/DefaultPermission
  DefaultIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Resource
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DefaultIntegration
  DefaultRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $default
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DefaultIntegration
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DefaultRoute
Outputs:
  Endpoint:
    Value:
      Fn::Join:
        - ''
        - - Fn::GetAtt:
              - Api
              - ApiEndpoint
          - /mvalenzuela
  BucketArn:
    Value:
      Fn::GetAtt:
        - Bucket83908E77
        - Arn
  BucketName:
    Value:
      Ref: Bucket83908E77
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:46:42.967] [DEBUG] default - Resources:
  TableCD117FA1:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: pk
          KeyType: HASH
      AttributeDefinitions:
        - AttributeName: pk
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Table/Resource
  Bucket83908E77:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 1
            Prefix: payloads/
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: aws-cdk:auto-delete-objects
          Value: 'true'
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Bucket/Resource
  BucketPolicyE9A3008A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: Bucket83908E77
      PolicyDocument:
        Statement:
          - Action:
              - s3:GetBucket*
              - s3:List*
              - s3:DeleteObject*
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - Bucket83908E77
                  - Arn
              - Fn::Join:
                  - ''
                  - - Fn::GetAtt:
                        - Bucket83908E77
                        - Arn
                    - /*
        Version: '2012-10-17'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Bucket/Policy/Resource
  BucketAutoDeleteObjectsCustomResourceBAFD23C2:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: Bucket83908E77
    DependsOn:
      - BucketPolicyE9A3008A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Bucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: >-
            arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: ac9d3642b3e0626d3a6d8c4f5f56507a478c329febdf1dcfbbf7c7db9812cd30.zip
      Timeout: 900
      MemorySize: 128
      Handler: __entrypoint__.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs14.x
      Description:
        Fn::Join:
          - ''
          - - 'Lambda function for auto-deleting objects in '
            - Ref: Bucket83908E77
            - ' S3 bucket.'
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.ac9d3642b3e0626d3a6d8c4f5f56507a478c329febdf1dcfbbf7c7db9812cd30
      aws:asset:property: Code
  Api:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      Name: mvalenzuela-notes-debug-stack-api
      ProtocolType: WEBSOCKET
      RouteSelectionExpression: $request.body.action
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Api
  ApiStage:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: Api
      StageName: mvalenzuela
      AutoDeploy: true
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/ApiStage
  ConnectServiceRole07B61CE8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/ServiceRole/Resource
  ConnectServiceRoleDefaultPolicyCE008EDB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ConnectServiceRoleDefaultPolicyCE008EDB
      Roles:
        - Ref: ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/ServiceRole/DefaultPolicy/Resource
  Connect5B7625CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ConnectServiceRole07B61CE8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsConnect.main
      MemorySize: 256
      Runtime: nodejs16.x
      Timeout: 10
    DependsOn:
      - ConnectServiceRoleDefaultPolicyCE008EDB
      - ConnectServiceRole07B61CE8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectLogRetentionC1F463CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Connect5B7625CA
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/LogRetention/Resource
  ConnectConnectPermission9DBC7813:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Connect5B7625CA
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Connect/ConnectPermission
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:PutRetentionPolicy
              - logs:DeleteRetentionPolicy
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs14.x
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: ae967c277459e8936ac565a71d34ea5dcff7b98e556466c36a4d6da023a2d9aa.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
    DependsOn:
      - >-
        LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.ae967c277459e8936ac565a71d34ea5dcff7b98e556466c36a4d6da023a2d9aa
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ConnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Connect5B7625CA
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/ConnectIntegration
  ConnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $connect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ConnectIntegration
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/ConnectRoute
  DisconnectServiceRole90AEC2EB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/ServiceRole/Resource
  DisconnectServiceRoleDefaultPolicy32856207:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: DisconnectServiceRoleDefaultPolicy32856207
      Roles:
        - Ref: DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-debug-stack/Disconnect/ServiceRole/DefaultPolicy/Resource
  Disconnect7D6B12BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - DisconnectServiceRole90AEC2EB
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDisconnect.main
      MemorySize: 256
      Runtime: nodejs16.x
      Timeout: 10
    DependsOn:
      - DisconnectServiceRoleDefaultPolicy32856207
      - DisconnectServiceRole90AEC2EB
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  DisconnectLogRetentionE61D7937:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Disconnect7D6B12BD
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/LogRetention/Resource
  DisconnectDisconnectPermission933E876E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Disconnect7D6B12BD
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Disconnect/DisconnectPermission
  DisconnectIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Disconnect7D6B12BD
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DisconnectIntegration
  DisconnectRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $disconnect
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DisconnectIntegration
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DisconnectRoute
  ServiceRole4288B192:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/ServiceRole/Resource
  ServiceRoleDefaultPolicy94CF55F6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - apigateway:*
              - dynamodb:*
              - execute-api:ManageConnections
            Effect: Allow
            Resource: '*'
        Version: '2012-10-17'
      PolicyName: ServiceRoleDefaultPolicy94CF55F6
      Roles:
        - Ref: ServiceRole4288B192
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/ServiceRole/DefaultPolicy/Resource
  Resource:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4.zip
      Role:
        Fn::GetAtt:
          - ServiceRole4288B192
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Ref: TableCD117FA1
      Handler: wsDefault.main
      MemorySize: 256
      Runtime: nodejs16.x
      Timeout: 10
    DependsOn:
      - ServiceRoleDefaultPolicy94CF55F6
      - ServiceRole4288B192
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/Resource
      aws:asset:path: asset.0d89df84ea307d9cb0d70fbd76481e4e86f449d075a2a082cc2d323ee69a98e4
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LogRetentionDD0A1FA1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/lambda/
            - Ref: Resource
      RetentionInDays: 7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/LogRetention/Resource
  DefaultPermission:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Resource
          - Arn
      Principal: apigateway.amazonaws.com
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/Default/DefaultPermission
  DefaultIntegration:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: Api
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':apigateway:us-east-1:lambda:path/2015-03-31/functions/'
            - Fn::GetAtt:
                - Resource
                - Arn
            - /invocations
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DefaultIntegration
  DefaultRoute:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: Api
      RouteKey: $default
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: DefaultIntegration
    Metadata:
      aws:cdk:path: mvalenzuela-notes-debug-stack/DefaultRoute
Outputs:
  Endpoint:
    Value:
      Fn::Join:
        - ''
        - - Fn::GetAtt:
              - Api
              - ApiEndpoint
          - /mvalenzuela
  BucketArn:
    Value:
      Fn::GetAtt:
        - Bucket83908E77
        - Arn
  BucketName:
    Value:
      Ref: Bucket83908E77
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:46:42.968] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-08-29T12:46:42.972] [DEBUG] default - deploy stack: done mvalenzuela-notes-debug-stack {
  status: 'unchanged',
  statusReason: undefined,
  account: '626192391851',
  outputs: {
    BucketArn: 'arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5',
    BucketName: 'mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5',
    Endpoint: 'wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela'
  },
  exports: {}
}
[2022-08-29T12:46:42.973] [INFO] default - [32m[39m
[32m âœ…  mvalenzuela-notes-debug-stack (no changes)[39m
[32m[39m
[2022-08-29T12:46:42.974] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-08-29T12:46:42.974] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-debug-stack","name":"mvalenzuela-notes-debug-stack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791602973,"endedAt":1661791602973,"events":[],"outputs":{"BucketArn":"arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5","BucketName":"mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5","Endpoint":"wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela"},"exports":{}}]
[2022-08-29T12:46:42.975] [DEBUG] default - deployRet [
  {
    id: 'mvalenzuela-notes-debug-stack',
    name: 'mvalenzuela-notes-debug-stack',
    region: 'us-east-1',
    status: 'unchanged',
    errorHelper: undefined,
    errorMessage: undefined,
    outputs: {
      BucketArn: 'arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5',
      BucketName: 'mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5',
      Endpoint: 'wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela'
    },
    exports: {}
  }
]
[2022-08-29T12:46:42.976] [INFO] default - 
[2022-08-29T12:46:42.976] [INFO] default - ===============
[2022-08-29T12:46:42.977] [INFO] default -  Deploying app
[2022-08-29T12:46:42.977] [INFO] default - ===============
[2022-08-29T12:46:42.977] [INFO] default - 
[2022-08-29T12:46:42.982] [DEBUG] default - synth {
  app: 'node .build/run.mjs',
  output: '.build/cdk.out',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-08-29T12:46:48.516] [TRACE] cdk - [32mSuccessfully synthesized to [34m/Users/mvalenzuela/Documents/SST/notes/.build/cdk.out[39m[32m[39m
Supply a stack id ([32mmvalenzuela-notes-StorageStack[39m, [32mmvalenzuela-notes-ApiStack[39m) to display its template.

[2022-08-29T12:46:48.526] [TRACE] cdk - 

[2022-08-29T12:46:48.563] [DEBUG] default - checkInReviewBootstrapStacks
[2022-08-29T12:46:48.563] [DEBUG] default - checkInReviewBootstrapStackInRegion us-east-1
[2022-08-29T12:46:49.138] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"pending","dependencies":["mvalenzuela-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-08-29T12:46:49.138] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"pending","dependencies":["mvalenzuela-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-08-29T12:46:49.140] [DEBUG] default - deploy stack: started mvalenzuela-notes-StorageStack
[2022-08-29T12:46:49.140] [DEBUG] default - deploy stack: get pre-deploy status
[2022-08-29T12:46:49.839] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-24T14:08:17.962Z
}
[2022-08-29T12:46:49.840] [DEBUG] default - deploy stack: addInUseExports
[2022-08-29T12:46:49.842] [DEBUG] default - deploy stack: isTemplateChanged
[2022-08-29T12:46:50.503] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-StorageStack
      Metadata:
        - id: Uploads
          addr: c87b606db1c858d30230d5d47269ce5284d2dc4b11
          stack: mvalenzuela-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c80d1b21b1be1a27ddf13ec906c15b16eaeb1d7aea
          stack: mvalenzuela-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploader/Default
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: mvalenzuela-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:46:50.504] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-StorageStack
      Metadata:
        - id: Uploads
          addr: c87b606db1c858d30230d5d47269ce5284d2dc4b11
          stack: mvalenzuela-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c80d1b21b1be1a27ddf13ec906c15b16eaeb1d7aea
          stack: mvalenzuela-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploader/Default
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: mvalenzuela-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:46:50.505] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-08-29T12:46:50.506] [DEBUG] default - deploy stack: done mvalenzuela-notes-StorageStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '626192391851',
  outputs: {
    ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38: 'arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes',
    ExportsOutputRefNotesTable7100B0E8C879CB95: 'mvalenzuela-notes-Notes'
  },
  exports: {
    'mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38': 'arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes',
    'mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95': 'mvalenzuela-notes-Notes'
  }
}
[2022-08-29T12:46:50.506] [INFO] default - [32m[39m
[32m âœ…  mvalenzuela-notes-StorageStack (no changes)[39m
[32m[39m
[2022-08-29T12:46:50.508] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-08-29T12:46:50.508] [DEBUG] default - deploy stack: started mvalenzuela-notes-ApiStack
[2022-08-29T12:46:50.508] [DEBUG] default - deploy stack: get pre-deploy status
[2022-08-29T12:46:51.127] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:46:51.128] [DEBUG] default - deploy stack: addInUseExports
[2022-08-29T12:46:51.133] [DEBUG] default - deploy stack: isTemplateChanged
[2022-08-29T12:46:52.380] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-ApiStack
      Metadata:
        - id: Api
          addr: c888d2c84405896cd17bc48d1e771e27a35c86fbf1
          stack: mvalenzuela-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - type: function
                route: POST /notes
                fn:
                  node: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes/{id}
                fn:
                  node: c847b92e65adb15bb1369d7bdde8e757a2c8101196
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes
                fn:
                  node: c84310879c5a6efff8f80da47225f49dcd3732891b
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: PUT /notes/{id}
                fn:
                  node: c8582098cf95a274c392d64a29a1e3480cfd19f444
                  stack: mvalenzuela-notes-ApiStack
        - id: Lambda_POST_--notes
          addr: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
            secrets: []
        - id: Lambda_GET_--notes--{id}
          addr: c847b92e65adb15bb1369d7bdde8e757a2c8101196
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
            secrets: []
        - id: Lambda_GET_--notes
          addr: c84310879c5a6efff8f80da47225f49dcd3732891b
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
            secrets: []
        - id: Lambda_PUT_--notes--{id}
          addr: c8582098cf95a274c392d64a29a1e3480cfd19f444
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
            secrets: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploader/Default
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: mvalenzuela-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/mvalenzuela-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:46:52.381] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-ApiStack
      Metadata:
        - id: Api
          addr: c888d2c84405896cd17bc48d1e771e27a35c86fbf1
          stack: mvalenzuela-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - type: function
                route: POST /notes
                fn:
                  node: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes/{id}
                fn:
                  node: c847b92e65adb15bb1369d7bdde8e757a2c8101196
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes
                fn:
                  node: c84310879c5a6efff8f80da47225f49dcd3732891b
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: PUT /notes/{id}
                fn:
                  node: c8582098cf95a274c392d64a29a1e3480cfd19f444
                  stack: mvalenzuela-notes-ApiStack
        - id: Lambda_POST_--notes
          addr: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
            secrets: []
        - id: Lambda_GET_--notes--{id}
          addr: c847b92e65adb15bb1369d7bdde8e757a2c8101196
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
            secrets: []
        - id: Lambda_GET_--notes
          addr: c84310879c5a6efff8f80da47225f49dcd3732891b
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
            secrets: []
        - id: Lambda_PUT_--notes--{id}
          addr: c8582098cf95a274c392d64a29a1e3480cfd19f444
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
            secrets: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploader/Default
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: mvalenzuela-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/mvalenzuela-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:46:52.382] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-08-29T12:46:52.382] [DEBUG] default - deploy stack: done mvalenzuela-notes-ApiStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '626192391851',
  outputs: {
    ApiEndpoint: 'https://zms3re9z32.execute-api.us-east-1.amazonaws.com'
  },
  exports: {}
}
[2022-08-29T12:46:52.383] [INFO] default - [32m[39m
[32m âœ…  mvalenzuela-notes-ApiStack (no changes)[39m
[32m[39m
[2022-08-29T12:46:52.384] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-08-29T12:46:52.385] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791610506,"endedAt":1661791610506,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"unchanged","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791612383,"endedAt":1661791612383,"events":[],"outputs":{"ApiEndpoint":"https://zms3re9z32.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-08-29T12:46:52.386] [INFO] default - 
[2022-08-29T12:46:52.386] [INFO] default - ==========================
[2022-08-29T12:46:52.387] [INFO] default -  Starting Live Lambda Dev
[2022-08-29T12:46:52.388] [INFO] default - ==========================
[2022-08-29T12:46:52.388] [INFO] default - 
[2022-08-29T12:46:52.411] [DEBUG] websocket - startWebSocketClient wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
[2022-08-29T12:46:52.415] [DEBUG] default - Checking port 12557 on host 0.0.0.0
[2022-08-29T12:46:52.441] [DEBUG] default - Checking port 13557 on host 0.0.0.0
[2022-08-29T12:46:52.457] [DEBUG] runtime - Starting runtime server on port: 12557
[2022-08-29T12:46:53.240] [DEBUG] websocket - WebSocket connection opened
[2022-08-29T12:46:53.588] [INFO] client - Debug session started. Listening for requests...
[2022-08-29T12:46:53.589] [DEBUG] client - Client connection id: XooLpe5sIAMCEEA=
[2022-08-29T12:47:40.527] [DEBUG] default - File changed:  [
  '/Users/mvalenzuela/Documents/SST/notes/services/functions/delete.ts'
]
[2022-08-29T12:47:55.941] [INFO] client - [90mStacks: Building changes...[39m
[2022-08-29T12:47:55.958] [DEBUG] default - synth {
  app: 'node .build/run.mjs',
  output: '.build/cdk.out',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-08-29T12:47:55.970] [INFO] client - [90mStacks: Synthesizing changes...[39m
[2022-08-29T12:47:56.036] [INFO] client - [90mStacks: Synthesizing changes...[39m
[2022-08-29T12:47:56.236] [INFO] client - [90mStacks: Synthesizing changes...[39m
[2022-08-29T12:48:08.537] [TRACE] cdk - [32mSuccessfully synthesized to [34m/Users/mvalenzuela/Documents/SST/notes/.build/cdk.out[39m[32m[39m
Supply a stack id ([32mmvalenzuela-notes-StorageStack[39m, [32mmvalenzuela-notes-ApiStack[39m) to display its template.

[2022-08-29T12:48:08.552] [TRACE] cdk - 

[2022-08-29T12:48:08.607] [INFO] client - [90mStacks: Building changes...[39m
[2022-08-29T12:48:08.630] [DEBUG] default - synth {
  app: 'node .build/run.mjs',
  output: '.build/cdk.out',
  rollback: true,
  roleArn: undefined,
  verbose: 0,
  noColor: false
}
[2022-08-29T12:48:08.641] [INFO] client - [90mStacks: Synthesizing changes...[39m
[2022-08-29T12:48:16.893] [TRACE] cdk - [32mSuccessfully synthesized to [34m/Users/mvalenzuela/Documents/SST/notes/.build/cdk.out[39m[32m[39m

[2022-08-29T12:48:16.897] [TRACE] cdk - Supply a stack id ([32mmvalenzuela-notes-StorageStack[39m, [32mmvalenzuela-notes-ApiStack[39m) to display its template.

[2022-08-29T12:48:16.910] [TRACE] cdk - 

[2022-08-29T12:48:16.971] [INFO] client - [36mStacks: There are new infrastructure changes. Press ENTER to redeploy.[39m
[2022-08-29T12:48:19.219] [DEBUG] default - checkInReviewBootstrapStacks
[2022-08-29T12:48:19.219] [DEBUG] default - checkInReviewBootstrapStackInRegion us-east-1
[2022-08-29T12:48:20.028] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"pending","dependencies":["mvalenzuela-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-08-29T12:48:20.029] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"pending","dependencies":[],"region":"us-east-1","events":[]},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"pending","dependencies":["mvalenzuela-notes-StorageStack"],"region":"us-east-1","events":[]}]
[2022-08-29T12:48:20.030] [DEBUG] default - deploy stack: started mvalenzuela-notes-StorageStack
[2022-08-29T12:48:20.030] [DEBUG] default - deploy stack: get pre-deploy status
[2022-08-29T12:48:20.587] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-24T14:08:17.962Z
}
[2022-08-29T12:48:20.588] [DEBUG] default - deploy stack: addInUseExports
[2022-08-29T12:48:20.591] [DEBUG] default - deploy stack: isTemplateChanged
[2022-08-29T12:48:21.199] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-StorageStack
      Metadata:
        - id: Uploads
          addr: c87b606db1c858d30230d5d47269ce5284d2dc4b11
          stack: mvalenzuela-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c80d1b21b1be1a27ddf13ec906c15b16eaeb1d7aea
          stack: mvalenzuela-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploader/Default
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: mvalenzuela-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:48:21.200] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-StorageStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-StorageStack
      Metadata:
        - id: Uploads
          addr: c87b606db1c858d30230d5d47269ce5284d2dc4b11
          stack: mvalenzuela-notes-StorageStack
          type: Bucket
          data:
            name:
              Ref: UploadsBucketC4B27CC7
            notifications: []
            notificationNames: []
        - id: Notes
          addr: c80d1b21b1be1a27ddf13ec906c15b16eaeb1d7aea
          stack: mvalenzuela-notes-StorageStack
          type: Table
          data:
            tableName:
              Ref: NotesTable7100B0E8
            consumers: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/MetadataUploader/Default
  UploadsBucketC4B27CC7:
    Type: AWS::S3::Bucket
    Properties:
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Uploads/Bucket/Resource
  NotesTable7100B0E8:
    Type: AWS::DynamoDB::Table
    Properties:
      KeySchema:
        - AttributeName: userId
          KeyType: HASH
        - AttributeName: noteId
          KeyType: RANGE
      AttributeDefinitions:
        - AttributeName: userId
          AttributeType: S
        - AttributeName: noteId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      PointInTimeRecoverySpecification:
        PointInTimeRecoveryEnabled: true
      TableName: mvalenzuela-notes-Notes
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-StorageStack/Notes/Table/Resource
Outputs:
  ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38:
    Value:
      Fn::GetAtt:
        - NotesTable7100B0E8
        - Arn
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
  ExportsOutputRefNotesTable7100B0E8C879CB95:
    Value:
      Ref: NotesTable7100B0E8
    Export:
      Name: >-
        mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:48:21.202] [DEBUG] default - deploy stack: isTemplateChanged: unchanged
[2022-08-29T12:48:21.202] [DEBUG] default - deploy stack: done mvalenzuela-notes-StorageStack {
  status: 'unchanged',
  statusReason: undefined,
  account: '626192391851',
  outputs: {
    ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38: 'arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes',
    ExportsOutputRefNotesTable7100B0E8C879CB95: 'mvalenzuela-notes-Notes'
  },
  exports: {
    'mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38': 'arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes',
    'mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95': 'mvalenzuela-notes-Notes'
  }
}
[2022-08-29T12:48:21.203] [INFO] default - [32m[39m
[32m âœ…  mvalenzuela-notes-StorageStack (no changes)[39m
[32m[39m
[2022-08-29T12:48:21.203] [DEBUG] default - At least 1 stack successfully deployed, call deployStacks() again
[2022-08-29T12:48:21.204] [DEBUG] default - deploy stack: started mvalenzuela-notes-ApiStack
[2022-08-29T12:48:21.204] [DEBUG] default - deploy stack: get pre-deploy status
[2022-08-29T12:48:22.160] [DEBUG] default - deploy stack: get pre-deploy status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:22.161] [DEBUG] default - deploy stack: addInUseExports
[2022-08-29T12:48:22.164] [DEBUG] default - deploy stack: isTemplateChanged
[2022-08-29T12:48:23.216] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-ApiStack
      Metadata:
        - id: Api
          addr: c888d2c84405896cd17bc48d1e771e27a35c86fbf1
          stack: mvalenzuela-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - type: function
                route: POST /notes
                fn:
                  node: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes/{id}
                fn:
                  node: c847b92e65adb15bb1369d7bdde8e757a2c8101196
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes
                fn:
                  node: c84310879c5a6efff8f80da47225f49dcd3732891b
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: PUT /notes/{id}
                fn:
                  node: c8582098cf95a274c392d64a29a1e3480cfd19f444
                  stack: mvalenzuela-notes-ApiStack
        - id: Lambda_POST_--notes
          addr: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
            secrets: []
        - id: Lambda_GET_--notes--{id}
          addr: c847b92e65adb15bb1369d7bdde8e757a2c8101196
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
            secrets: []
        - id: Lambda_GET_--notes
          addr: c84310879c5a6efff8f80da47225f49dcd3732891b
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
            secrets: []
        - id: Lambda_PUT_--notes--{id}
          addr: c8582098cf95a274c392d64a29a1e3480cfd19f444
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
            secrets: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploader/Default
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: mvalenzuela-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/mvalenzuela-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:48:23.216] [DEBUG] default - Resources:
  MetadataUploaderFunctionServiceRoleA1374F8D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/Resource
  MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - s3:PutObject
              - s3:DeleteObject
            Effect: Allow
            Resource: arn:aws:s3:::sstbootstrap-useast124d14e4b-26o6rlaxtw2x/*
        Version: '2012-10-17'
      PolicyName: MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      Roles:
        - Ref: MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/MetadataUploaderFunction/ServiceRole/DefaultPolicy/Resource
  MetadataUploaderFunction91295317:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5.zip
      Role:
        Fn::GetAtt:
          - MetadataUploaderFunctionServiceRoleA1374F8D
          - Arn
      Environment:
        Variables:
          BUCKET_NAME: sstbootstrap-useast124d14e4b-26o6rlaxtw2x
      Handler: stack-metadata.handler
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 900
    DependsOn:
      - MetadataUploaderFunctionServiceRoleDefaultPolicy0BB97BA6
      - MetadataUploaderFunctionServiceRoleA1374F8D
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploaderFunction/Resource
      aws:asset:path: asset.7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5
      aws:asset:is-bundled: false
      aws:asset:property: Code
  MetadataUploader:
    Type: Custom::StackMetadata
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - MetadataUploaderFunction91295317
          - Arn
      App: notes
      Stage: mvalenzuela
      Stack: mvalenzuela-notes-ApiStack
      Metadata:
        - id: Api
          addr: c888d2c84405896cd17bc48d1e771e27a35c86fbf1
          stack: mvalenzuela-notes-ApiStack
          type: Api
          data:
            graphql: false
            url:
              Fn::Join:
                - ''
                - - https://
                  - Ref: ApiCD79AAA0
                  - .execute-api.us-east-1.
                  - Ref: AWS::URLSuffix
                  - /
            httpApiId:
              Ref: ApiCD79AAA0
            routes:
              - type: function
                route: POST /notes
                fn:
                  node: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes/{id}
                fn:
                  node: c847b92e65adb15bb1369d7bdde8e757a2c8101196
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: GET /notes
                fn:
                  node: c84310879c5a6efff8f80da47225f49dcd3732891b
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: PUT /notes/{id}
                fn:
                  node: c8582098cf95a274c392d64a29a1e3480cfd19f444
                  stack: mvalenzuela-notes-ApiStack
              - type: function
                route: DELETE /notes/{id}
                fn:
                  node: c8543b10c816b2bbcec08bf6cb8c2157c8828d0858
                  stack: mvalenzuela-notes-ApiStack
        - id: Lambda_POST_--notes
          addr: c8128bf412b2b8ccf4283f79b0f3644431f13edd54
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaPOSTnotes3B067E1B
                - Arn
            secrets: []
        - id: Lambda_GET_--notes--{id}
          addr: c847b92e65adb15bb1369d7bdde8e757a2c8101196
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesidBDFD7F2C
                - Arn
            secrets: []
        - id: Lambda_GET_--notes
          addr: c84310879c5a6efff8f80da47225f49dcd3732891b
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
            arn:
              Fn::GetAtt:
                - ApiLambdaGETnotesA3E56CF7
                - Arn
            secrets: []
        - id: Lambda_PUT_--notes--{id}
          addr: c8582098cf95a274c392d64a29a1e3480cfd19f444
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaPUTnotesid28D10C39
                - Arn
            secrets: []
        - id: Lambda_DELETE_--notes--{id}
          addr: c8543b10c816b2bbcec08bf6cb8c2157c8828d0858
          stack: mvalenzuela-notes-ApiStack
          type: Function
          data:
            localId: mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
            arn:
              Fn::GetAtt:
                - ApiLambdaDELETEnotesid69A96EAD
                - Arn
            secrets: []
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/MetadataUploader/Default
  ApiCD79AAA0:
    Type: AWS::ApiGatewayV2::Api
    Properties:
      CorsConfiguration:
        AllowHeaders:
          - '*'
        AllowMethods:
          - '*'
        AllowOrigins:
          - '*'
      Name: mvalenzuela-notes-Api
      ProtocolType: HTTP
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/Resource
  ApiDefaultStage1AAE989B:
    Type: AWS::ApiGatewayV2::Stage
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      StageName: $default
      AccessLogSettings:
        DestinationArn:
          Fn::GetAtt:
            - ApiLogGroup1717FE17
            - Arn
        Format: >-
          {"requestTime":"$context.requestTime","requestId":"$context.requestId","httpMethod":"$context.httpMethod","path":"$context.path","routeKey":"$context.routeKey","status":$context.status,"responseLatency":$context.responseLatency,"integrationRequestId":"$context.integration.requestId","integrationStatus":"$context.integration.status","integrationLatency":"$context.integration.latency","integrationServiceStatus":"$context.integration.integrationStatus","ip":"$context.identity.sourceIp","userAgent":"$context.identity.userAgent","cognitoIdentityId":"$context.identity.cognitoIdentityId"}
      AutoDeploy: true
      Tags:
        sst:app: notes
        sst:stage: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Api/DefaultStage/Resource
  ApiLogGroup1717FE17:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName:
        Fn::Join:
          - ''
          - - /aws/vendedlogs/apis/mvalenzuela-notes-Api-
            - Ref: ApiCD79AAA0
            - /default
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/LogGroup/Resource
  ApiLambdaPOSTnotesServiceRoleD16681D3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/Resource
  ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      Roles:
        - Ref: ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPOSTnotes3B067E1B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPOSTnotesServiceRoleD16681D3
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/create.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPOSTnotesServiceRoleDefaultPolicy6D85CF6B
      - ApiLambdaPOSTnotesServiceRoleD16681D3
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPOSTnotesEventInvokeConfig78ADA2E8:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPOSTnotes3B067E1B
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_POST_--notes/EventInvokeConfig/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes/Resource
  ApiRoutePOSTnotesIntegrationPOSTnotesPermission83B10601:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPOSTnotes3B067E1B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Integration_POST_--notes-Permission
  ApiRoutePOSTnotes66667A1D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: POST /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePOSTnotesIntegrationPOSTnotes44F9E77C
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_POST_--notes/Resource
  ApiLambdaGETnotesidServiceRole5ED71CA8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/Resource
  ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      Roles:
        - Ref: ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesidBDFD7F2C:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesidServiceRole5ED71CA8
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/get.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesidServiceRoleDefaultPolicy0BDDFC9B
      - ApiLambdaGETnotesidServiceRole5ED71CA8
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesidEventInvokeConfig638AD083:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesidBDFD7F2C
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}/Resource
  ApiRouteGETnotesidIntegrationGETnotesidPermissionC332DC73:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesidBDFD7F2C
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Integration_GET_--notes--{id}-Permission
  ApiRouteGETnotesid7B39CB5A:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesidIntegrationGETnotesidDDEC4C94
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes--{id}/Resource
  ApiLambdaGETnotesServiceRoleFAD2F768:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/Resource
  ApiLambdaGETnotesServiceRoleDefaultPolicy46521967:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      Roles:
        - Ref: ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/ServiceRole/DefaultPolicy/Resource
  ApiLambdaGETnotesA3E56CF7:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaGETnotesServiceRoleFAD2F768
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/list.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaGETnotesServiceRoleDefaultPolicy46521967
      - ApiLambdaGETnotesServiceRoleFAD2F768
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaGETnotesEventInvokeConfigE155863D:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaGETnotesA3E56CF7
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_GET_--notes/EventInvokeConfig/Resource
  ApiRouteGETnotesIntegrationGETnotes809882CF:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes/Resource
  ApiRouteGETnotesIntegrationGETnotesPermissionA18F8817:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaGETnotesA3E56CF7
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Integration_GET_--notes-Permission
  ApiRouteGETnotesBFEE3C9D:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: GET /notes
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteGETnotesIntegrationGETnotes809882CF
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_GET_--notes/Resource
  ApiLambdaPUTnotesidServiceRole7A962796:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/Resource
  ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      Roles:
        - Ref: ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaPUTnotesid28D10C39:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaPUTnotesidServiceRole7A962796
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/update.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaPUTnotesidServiceRoleDefaultPolicyB3FF9AED
      - ApiLambdaPUTnotesidServiceRole7A962796
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaPUTnotesidEventInvokeConfig80B67243:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaPUTnotesid28D10C39
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_PUT_--notes--{id}/EventInvokeConfig/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}/Resource
  ApiRoutePUTnotesidIntegrationPUTnotesidPermissionDD71990C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaPUTnotesid28D10C39
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Integration_PUT_--notes--{id}-Permission
  ApiRoutePUTnotesidFAE087B0:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: PUT /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRoutePUTnotesidIntegrationPUTnotesid0B48B9D7
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_PUT_--notes--{id}/Resource
  ApiLambdaDELETEnotesidServiceRole196EBA58:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: '2012-10-17'
      ManagedPolicyArns:
        - Fn::Join:
            - ''
            - - 'arn:'
              - Ref: AWS::Partition
              - ':iam::aws:policy/service-role/AWSLambdaBasicExecutionRole'
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/Resource
  ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTraceSegments
              - xray:PutTelemetryRecords
            Effect: Allow
            Resource: '*'
          - Action: s3:*
            Effect: Allow
            Resource:
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
              - >-
                arn:aws:s3:::mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5/*
          - Action: dynamodb:*
            Effect: Allow
            Resource:
              - Fn::ImportValue: >-
                  mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
              - Fn::Join:
                  - ''
                  - - Fn::ImportValue: >-
                        mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38
                    - /*
        Version: '2012-10-17'
      PolicyName: ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      Roles:
        - Ref: ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/ServiceRole/DefaultPolicy/Resource
  ApiLambdaDELETEnotesid69A96EAD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-626192391851-us-east-1
        S3Key: c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      Role:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesidServiceRole196EBA58
          - Arn
      Environment:
        Variables:
          TABLE_NAME:
            Fn::ImportValue: >-
              mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95
          SST_DEBUG_SRC_PATH: services
          SST_DEBUG_SRC_HANDLER: functions/delete.main
          SST_DEBUG_ENDPOINT: wss://8i9tfnx0hg.execute-api.us-east-1.amazonaws.com/mvalenzuela
          SST_DEBUG_BUCKET_NAME: mvalenzuela-notes-debug-stack-bucket83908e77-5qiucfjhvsu5
          SST_FUNCTION_ID: mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
          AWS_NODEJS_CONNECTION_REUSE_ENABLED: '1'
          SST_APP: notes
          SST_STAGE: mvalenzuela
          SST_DEBUG_IS_API_ROUTE: '1'
      EphemeralStorage:
        Size: 512
      Handler: index.main
      MemorySize: 1024
      Runtime: nodejs16.x
      Tags:
        - Key: sst:app
          Value: notes
        - Key: sst:stage
          Value: mvalenzuela
      Timeout: 10
      TracingConfig:
        Mode: Active
    DependsOn:
      - ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74
      - ApiLambdaDELETEnotesidServiceRole196EBA58
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/Resource
      aws:asset:path: >-
        asset.c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0.zip
      aws:asset:is-bundled: false
      aws:asset:property: Code
  ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE:
    Type: AWS::Lambda::EventInvokeConfig
    Properties:
      FunctionName:
        Ref: ApiLambdaDELETEnotesid69A96EAD
      Qualifier: $LATEST
      MaximumRetryAttempts: 0
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Lambda_DELETE_--notes--{id}/EventInvokeConfig/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5:
    Type: AWS::ApiGatewayV2::Integration
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      IntegrationType: AWS_PROXY
      IntegrationUri:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      PayloadFormatVersion: '2.0'
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}/Resource
  ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - ApiLambdaDELETEnotesid69A96EAD
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ''
          - - 'arn:'
            - Ref: AWS::Partition
            - ':execute-api:us-east-1:626192391851:'
            - Ref: ApiCD79AAA0
            - /*/*/notes/{id}
    Metadata:
      aws:cdk:path: >-
        mvalenzuela-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Integration_DELETE_--notes--{id}-Permission
  ApiRouteDELETEnotesidCFA3191E:
    Type: AWS::ApiGatewayV2::Route
    Properties:
      ApiId:
        Ref: ApiCD79AAA0
      RouteKey: DELETE /notes/{id}
      AuthorizationType: NONE
      Target:
        Fn::Join:
          - ''
          - - integrations/
            - Ref: ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5
    Metadata:
      aws:cdk:path: mvalenzuela-notes-ApiStack/Api/Route_DELETE_--notes--{id}/Resource
Outputs:
  ApiEndpoint:
    Value:
      Fn::GetAtt:
        - ApiCD79AAA0
        - ApiEndpoint
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: >-
      Version of the CDK Bootstrap resources in this environment, automatically
      retrieved from SSM Parameter Store. [cdk:skip]
Rules:
  CheckBootstrapVersion:
    Assertions:
      - Assert:
          Fn::Not:
            - Fn::Contains:
                - - '1'
                  - '2'
                  - '3'
                  - '4'
                  - '5'
                - Ref: BootstrapVersion
        AssertDescription: >-
          CDK bootstrap stack version 6 required. Please run 'cdk bootstrap'
          with a recent version of the CDK CLI.

[2022-08-29T12:48:23.217] [DEBUG] default - deploy stack: run cdk deploy
[2022-08-29T12:48:23.224] [DEBUG] default - deploy stack: poll stack status
[2022-08-29T12:48:23.827] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:23.828] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:24.971] [TRACE] default - deploy stack: run cdk deploy: stderr: 
âœ¨  Synthesis time: 0.03s


[2022-08-29T12:48:24.972] [TRACE] default - deploy stack: run cdk deploy: stderr: [1mmvalenzuela-notes-ApiStack[22m: deploying...

[2022-08-29T12:48:26.815] [TRACE] default - deploy stack: run cdk deploy: stderr: [0%] start: Publishing 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5:626192391851-us-east-1

[2022-08-29T12:48:26.816] [TRACE] default - deploy stack: run cdk deploy: stderr: [0%] start: Publishing c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0:626192391851-us-east-1

[2022-08-29T12:48:26.817] [TRACE] default - deploy stack: run cdk deploy: stderr: [0%] start: Publishing b5f8793fc590327cf714a1cc059362b73ffb4edffc6ae420a4a150062f694d1a:626192391851-us-east-1

[2022-08-29T12:48:27.438] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:27.439] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:28.785] [TRACE] default - deploy stack: run cdk deploy: stderr: [33%] success: Published c4d49ee2e0b0693f36a5167d120301676cebba16b07df6511ca59c5b9349b7d0:626192391851-us-east-1

[2022-08-29T12:48:28.797] [TRACE] default - deploy stack: run cdk deploy: stderr: [66%] success: Published 7daa98c13c8356e3e2ffbcc6fb04fbc81645c131274597293472dd5d2cce4dc5:626192391851-us-east-1

[2022-08-29T12:48:30.833] [TRACE] default - deploy stack: run cdk deploy: stderr: [100%] success: Published b5f8793fc590327cf714a1cc059362b73ffb4edffc6ae420a4a150062f694d1a:626192391851-us-east-1

[2022-08-29T12:48:31.042] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:31.042] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:33.454] [TRACE] default - deploy stack: run cdk deploy: stderr: [1mmvalenzuela-notes-ApiStack[22m: creating CloudFormation changeset...

[2022-08-29T12:48:34.780] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:34.781] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:38.466] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:38.467] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:42.122] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:42.123] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:45.763] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:45.765] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:49.331] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:49.332] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:53.008] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:53.009] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:48:56.610] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_COMPLETE',
  LastUpdatedTime: 2022-08-25T15:55:27.410Z
}
[2022-08-29T12:48:56.611] [DEBUG] default - deploy stack: poll stack status: unknown
[2022-08-29T12:49:00.201] [DEBUG] default - deploy stack: poll stack status: {
  StackStatus: 'UPDATE_IN_PROGRESS',
  LastUpdatedTime: 2022-08-29T16:48:59.143Z
}
[2022-08-29T12:49:00.202] [DEBUG] default - deploy stack: poll stack status: cf update started
[2022-08-29T12:49:00.204] [DEBUG] default - deploy stack: done mvalenzuela-notes-ApiStack {
  status: 'deploying',
  statusReason: undefined,
  account: '626192391851',
  outputs: {
    ApiEndpoint: 'https://zms3re9z32.execute-api.us-east-1.amazonaws.com'
  },
  exports: {}
}
[2022-08-29T12:49:00.206] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[],"outputs":{"ApiEndpoint":"https://zms3re9z32.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-08-29T12:49:00.207] [INFO] default - Checking deploy status...
[2022-08-29T12:49:00.228] [DEBUG] default - deploy stack: run cdk deploy: exited with code null
[2022-08-29T12:49:05.208] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[],"outputs":{"ApiEndpoint":"https://zms3re9z32.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-08-29T12:49:05.210] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:06.290] [INFO] default - mvalenzuela-notes-ApiStack | [0mUPDATE_IN_PROGRESS[0m | AWS::CloudFormation::Stack | [0m[1mmvalenzuela-notes-ApiStack[22m[0m | [0mUser Initiated[0m
[2022-08-29T12:49:06.291] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:06.947] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:06.948] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:11.951] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:11.952] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:13.670] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Role | [0m[1mApiLambdaDELETEnotesidServiceRole196EBA58[22m[0m
[2022-08-29T12:49:13.671] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Role | [0m[1mApiLambdaDELETEnotesidServiceRole196EBA58[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:49:13.672] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:14.239] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:14.240] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:19.242] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:19.243] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:20.160] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:20.798] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:20.798] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:20.799] [INFO] default - Checking deploy status...
[2022-08-29T12:49:25.802] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:25.803] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:26.714] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:27.318] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:27.321] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:27.322] [INFO] default - Checking deploy status...
[2022-08-29T12:49:32.323] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:32.323] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:33.661] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::IAM::Role | [32m[1mApiLambdaDELETEnotesidServiceRole196EBA58[22m[39m
[2022-08-29T12:49:33.661] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Policy | [0m[1mApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74[22m[0m
[2022-08-29T12:49:33.667] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::IAM::Policy | [0m[1mApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:49:33.668] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:34.333] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:34.334] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:39.336] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:39.336] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:41.048] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:41.654] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:41.655] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:41.657] [INFO] default - Checking deploy status...
[2022-08-29T12:49:46.659] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:46.660] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:48.412] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:48.978] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:48.978] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:48.979] [INFO] default - Checking deploy status...
[2022-08-29T12:49:53.981] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:53.981] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:49:54.922] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::IAM::Policy | [32m[1mApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74[22m[39m
[2022-08-29T12:49:54.923] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Function | [0m[1mApiLambdaDELETEnotesid69A96EAD[22m[0m
[2022-08-29T12:49:54.923] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Function | [0m[1mApiLambdaDELETEnotesid69A96EAD[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:49:54.925] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:49:55.646] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:49:55.647] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:00.647] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:00.648] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:50:02.491] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::Function | [32m[1mApiLambdaDELETEnotesid69A96EAD[22m[39m
[2022-08-29T12:50:02.492] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:50:03.236] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:03.236] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:08.239] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:08.240] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:50:09.402] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::EventInvokeConfig | [0m[1mApiLambdaDELETEnotesidEventInvokeConfigC7520EFE[22m[0m
[2022-08-29T12:50:09.404] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Integration | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5[22m[0m
[2022-08-29T12:50:09.405] [INFO] default - mvalenzuela-notes-ApiStack | [0mUPDATE_IN_PROGRESS[0m | Custom::StackMetadata | [0m[1mMetadataUploader[22m[0m
[2022-08-29T12:50:09.406] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Permission | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89[22m[0m
[2022-08-29T12:50:09.420] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::Permission | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:50:09.420] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::Lambda::EventInvokeConfig | [0m[1mApiLambdaDELETEnotesidEventInvokeConfigC7520EFE[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:50:09.432] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::EventInvokeConfig | [32m[1mApiLambdaDELETEnotesidEventInvokeConfigC7520EFE[22m[39m
[2022-08-29T12:50:09.433] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Integration | [0m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:50:09.434] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::ApiGatewayV2::Integration | [32m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5[22m[39m
[2022-08-29T12:50:09.434] [INFO] default - mvalenzuela-notes-ApiStack | [32mUPDATE_COMPLETE[39m | Custom::StackMetadata | [32m[1mMetadataUploader[22m[39m
[2022-08-29T12:50:09.434] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:50:10.216] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:10.216] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:15.219] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:15.219] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:50:16.090] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Route | [0m[1mApiRouteDELETEnotesidCFA3191E[22m[0m
[2022-08-29T12:50:16.090] [INFO] default - mvalenzuela-notes-ApiStack | [0mCREATE_IN_PROGRESS[0m | AWS::ApiGatewayV2::Route | [0m[1mApiRouteDELETEnotesidCFA3191E[22m[0m | [0mResource creation Initiated[0m
[2022-08-29T12:50:16.095] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::ApiGatewayV2::Route | [32m[1mApiRouteDELETEnotesidCFA3191E[22m[39m
[2022-08-29T12:50:16.096] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:50:16.729] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:10.618Z","timestamp":"2022-08-29T16:50:10.618Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:12.143Z","timestamp":"2022-08-29T16:50:12.143Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-08-29T16:50:12.309Z","timestamp":"2022-08-29T16:50:12.309Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:16.730] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:10.618Z","timestamp":"2022-08-29T16:50:10.618Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:12.143Z","timestamp":"2022-08-29T16:50:12.143Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-08-29T16:50:12.309Z","timestamp":"2022-08-29T16:50:12.309Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:21.732] [TRACE] default - Initial stack states: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"deploying","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:10.618Z","timestamp":"2022-08-29T16:50:10.618Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:12.143Z","timestamp":"2022-08-29T16:50:12.143Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-08-29T16:50:12.309Z","timestamp":"2022-08-29T16:50:12.309Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z"}]
[2022-08-29T12:50:21.733] [DEBUG] default - Fetching stack events mvalenzuela-notes-ApiStack
[2022-08-29T12:50:22.850] [INFO] default - mvalenzuela-notes-ApiStack | [32mCREATE_COMPLETE[39m | AWS::Lambda::Permission | [32m[1mApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89[22m[39m
[2022-08-29T12:50:22.851] [INFO] default - mvalenzuela-notes-ApiStack | [32mUPDATE_COMPLETE_CLEANUP_IN_PROGRESS[39m | AWS::CloudFormation::Stack | [32m[1mmvalenzuela-notes-ApiStack[22m[39m
[2022-08-29T12:50:22.851] [INFO] default - mvalenzuela-notes-ApiStack | [32mUPDATE_COMPLETE[39m | AWS::CloudFormation::Stack | [32m[1mmvalenzuela-notes-ApiStack[22m[39m
[2022-08-29T12:50:22.853] [DEBUG] default - Checking stack status mvalenzuela-notes-ApiStack
[2022-08-29T12:50:23.493] [INFO] default - [32m[39m
[32m âœ…  mvalenzuela-notes-ApiStack[39m
[32m[39m
[2022-08-29T12:50:23.494] [TRACE] default - After update deploy statuses: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"succeeded","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"endedAt":1661791823493,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:10.618Z","timestamp":"2022-08-29T16:50:10.618Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:12.143Z","timestamp":"2022-08-29T16:50:12.143Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-08-29T16:50:12.309Z","timestamp":"2022-08-29T16:50:12.309Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_COMPLETE-2022-08-29T16:50:16.652Z","timestamp":"2022-08-29T16:50:16.652Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ab0c6530-27ba-11ed-8d1c-0a2c5330c63b","timestamp":"2022-08-29T16:50:20.543Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"abab1630-27ba-11ed-8db0-0ae2b721ad45","timestamp":"2022-08-29T16:50:21.577Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"mvalenzuela-notes-ApiStack"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z","outputs":{"ApiEndpoint":"https://zms3re9z32.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-08-29T12:50:23.494] [TRACE] default - After deploy stacks: [{"id":"mvalenzuela-notes-StorageStack","name":"mvalenzuela-notes-StorageStack","status":"unchanged","dependencies":[],"account":"626192391851","region":"us-east-1","startedAt":1661791701203,"endedAt":1661791701203,"events":[],"outputs":{"ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"},"exports":{"mvalenzuela-notes-StorageStack:ExportsOutputFnGetAttNotesTable7100B0E8Arn5DD5BF38":"arn:aws:dynamodb:us-east-1:626192391851:table/mvalenzuela-notes-Notes","mvalenzuela-notes-StorageStack:ExportsOutputRefNotesTable7100B0E8C879CB95":"mvalenzuela-notes-Notes"}},{"id":"mvalenzuela-notes-ApiStack","name":"mvalenzuela-notes-ApiStack","status":"succeeded","dependencies":["mvalenzuela-notes-StorageStack"],"account":"626192391851","region":"us-east-1","startedAt":1661791740205,"endedAt":1661791823493,"events":[{"eventId":"7a8aa3e0-27ba-11ed-9099-12aaa79c5871","timestamp":"2022-08-29T16:48:59.143Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_IN_PROGRESS","resourceStatusReason":"User Initiated","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:09.582Z","timestamp":"2022-08-29T16:49:09.582Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_IN_PROGRESS-2022-08-29T16:49:10.161Z","timestamp":"2022-08-29T16:49:10.161Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRole196EBA58-CREATE_COMPLETE-2022-08-29T16:49:28.336Z","timestamp":"2022-08-29T16:49:28.336Z","resourceType":"AWS::IAM::Role","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRole196EBA58"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:30.887Z","timestamp":"2022-08-29T16:49:30.887Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_IN_PROGRESS-2022-08-29T16:49:32.070Z","timestamp":"2022-08-29T16:49:32.070Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74-CREATE_COMPLETE-2022-08-29T16:49:49.491Z","timestamp":"2022-08-29T16:49:49.491Z","resourceType":"AWS::IAM::Policy","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidServiceRoleDefaultPolicy451F8A74"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:51.934Z","timestamp":"2022-08-29T16:49:51.934Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_IN_PROGRESS-2022-08-29T16:49:54.063Z","timestamp":"2022-08-29T16:49:54.063Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesid69A96EAD-CREATE_COMPLETE-2022-08-29T16:50:00.469Z","timestamp":"2022-08-29T16:50:00.469Z","resourceType":"AWS::Lambda::Function","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesid69A96EAD"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:03.544Z","timestamp":"2022-08-29T16:50:03.544Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:04.829Z","timestamp":"2022-08-29T16:50:04.829Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_IN_PROGRESS-2022-08-29T16:50:04.850Z","timestamp":"2022-08-29T16:50:04.850Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_IN_PROGRESS","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.108Z","timestamp":"2022-08-29T16:50:05.108Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_IN_PROGRESS-2022-08-29T16:50:05.714Z","timestamp":"2022-08-29T16:50:05.714Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_IN_PROGRESS-2022-08-29T16:50:06.039Z","timestamp":"2022-08-29T16:50:06.039Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE-CREATE_COMPLETE-2022-08-29T16:50:06.239Z","timestamp":"2022-08-29T16:50:06.239Z","resourceType":"AWS::Lambda::EventInvokeConfig","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiLambdaDELETEnotesidEventInvokeConfigC7520EFE"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_IN_PROGRESS-2022-08-29T16:50:06.976Z","timestamp":"2022-08-29T16:50:06.976Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5-CREATE_COMPLETE-2022-08-29T16:50:07.172Z","timestamp":"2022-08-29T16:50:07.172Z","resourceType":"AWS::ApiGatewayV2::Integration","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidE2F04DD5"},{"eventId":"MetadataUploader-UPDATE_COMPLETE-2022-08-29T16:50:08.557Z","timestamp":"2022-08-29T16:50:08.557Z","resourceType":"Custom::StackMetadata","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"MetadataUploader"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:10.618Z","timestamp":"2022-08-29T16:50:10.618Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_IN_PROGRESS-2022-08-29T16:50:12.143Z","timestamp":"2022-08-29T16:50:12.143Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_IN_PROGRESS","resourceStatusReason":"Resource creation Initiated","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidCFA3191E-CREATE_COMPLETE-2022-08-29T16:50:12.309Z","timestamp":"2022-08-29T16:50:12.309Z","resourceType":"AWS::ApiGatewayV2::Route","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidCFA3191E"},{"eventId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89-CREATE_COMPLETE-2022-08-29T16:50:16.652Z","timestamp":"2022-08-29T16:50:16.652Z","resourceType":"AWS::Lambda::Permission","resourceStatus":"CREATE_COMPLETE","logicalResourceId":"ApiRouteDELETEnotesidIntegrationDELETEnotesidPermission717CBC89"},{"eventId":"ab0c6530-27ba-11ed-8d1c-0a2c5330c63b","timestamp":"2022-08-29T16:50:20.543Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE_CLEANUP_IN_PROGRESS","logicalResourceId":"mvalenzuela-notes-ApiStack"},{"eventId":"abab1630-27ba-11ed-8db0-0ae2b721ad45","timestamp":"2022-08-29T16:50:21.577Z","resourceType":"AWS::CloudFormation::Stack","resourceStatus":"UPDATE_COMPLETE","logicalResourceId":"mvalenzuela-notes-ApiStack"}],"eventsFirstEventAt":"2022-08-29T16:48:54.143Z","outputs":{"ApiEndpoint":"https://zms3re9z32.execute-api.us-east-1.amazonaws.com"},"exports":{}}]
[2022-08-29T12:50:23.498] [INFO] client - [90mStacks: Deploying completed.[39m
[2022-08-29T12:50:23.510] [DEBUG] runtime - Draining function mvalenzuela-notes-ApiStack-Api-Lambda_POST_-notes
[2022-08-29T12:50:23.511] [DEBUG] runtime - Draining function mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes-{id}
[2022-08-29T12:50:23.512] [DEBUG] runtime - Draining function mvalenzuela-notes-ApiStack-Api-Lambda_GET_-notes
[2022-08-29T12:50:23.512] [DEBUG] runtime - Draining function mvalenzuela-notes-ApiStack-Api-Lambda_PUT_-notes-{id}
[2022-08-29T12:55:52.648] [INFO] client - [90m4c729fac-fa1e-40b1-a0bd-6e95a3ad6ebf REQUEST mvalenzuela-notes-ApiStac-ApiLambdaDELETEnotesid69-Z4uf4gLyiWqB [functions/delete.main] invoked by API DELETE /notes/99b5fa10-23bb-11ed-9d00-bd08a160a3b3[39m
[2022-08-29T12:55:52.658] [DEBUG] client - Invoking local function...
[2022-08-29T12:55:52.660] [DEBUG] runtime - Triggering {
  id: 'mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}',
  handler: 'functions/delete.main',
  runtime: 'nodejs16.x',
  srcPath: 'services',
  bundle: { format: 'esm' },
  root: '/Users/mvalenzuela/Documents/SST/notes'
}
[2022-08-29T12:55:52.661] [DEBUG] runtime - First build...
[2022-08-29T12:55:53.909] [DEBUG] runtime - First build finished
[2022-08-29T12:55:53.910] [DEBUG] runtime - Spawning {
  command: '/usr/local/bin/node',
  args: [
    '/Users/mvalenzuela/Documents/SST/notes/node_modules/@serverless-stack/aws-lambda-ric/bin/index.js',
    '/Users/mvalenzuela/Documents/SST/notes/.sst/artifacts/mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}/services/functions/delete.main'
  ],
  env: { AWS_LAMBDA_NODEJS_USE_ALTERNATIVE_CLIENT_1: 'true' }
}
[2022-08-29T12:55:54.468] [DEBUG] runtime - Worker waiting for function mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
[2022-08-29T12:55:54.469] [DEBUG] runtime - Sending next payload 4c729fac-fa1e-40b1-a0bd-6e95a3ad6ebf mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id} {
  version: '2.0',
  routeKey: 'DELETE /notes/{id}',
  rawPath: '/notes/99b5fa10-23bb-11ed-9d00-bd08a160a3b3',
  rawQueryString: '',
  headers: {
    accept: '*/*',
    'accept-encoding': 'gzip, deflate, br',
    'accept-language': 'es-ES,es;q=0.9,en;q=0.8',
    'content-length': '0',
    host: 'zms3re9z32.execute-api.us-east-1.amazonaws.com',
    origin: 'https://console.sst.dev',
    referer: 'https://console.sst.dev/',
    'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"macOS"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
    'x-amzn-trace-id': 'Root=1-630cef97-09681ae62c74e59c09d349fc',
    'x-forwarded-for': '201.188.117.104',
    'x-forwarded-port': '443',
    'x-forwarded-proto': 'https'
  },
  requestContext: {
    accountId: '626192391851',
    apiId: 'zms3re9z32',
    domainName: 'zms3re9z32.execute-api.us-east-1.amazonaws.com',
    domainPrefix: 'zms3re9z32',
    http: {
      method: 'DELETE',
      path: '/notes/99b5fa10-23bb-11ed-9d00-bd08a160a3b3',
      protocol: 'HTTP/1.1',
      sourceIp: '201.188.117.104',
      userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36'
    },
    requestId: 'Xopfvg4coAMEP1g=',
    routeKey: 'DELETE /notes/{id}',
    stage: '$default',
    time: '29/Aug/2022:16:55:51 +0000',
    timeEpoch: 1661792151702
  },
  pathParameters: { id: '99b5fa10-23bb-11ed-9d00-bd08a160a3b3' },
  isBase64Encoded: false
}
[2022-08-29T12:55:55.183] [DEBUG] runtime - Received response for 4c729fac-fa1e-40b1-a0bd-6e95a3ad6ebf mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
[2022-08-29T12:55:55.186] [DEBUG] client - Response { type: 'success', data: { statusCode: 200, body: '{"status":true}' } }
[2022-08-29T12:55:55.186] [INFO] client - [90m4c729fac-fa1e-40b1-a0bd-6e95a3ad6ebf RESPONSE {"statusCode":200,"body":"{\"status\":true}"}[39m
[2022-08-29T12:55:55.189] [DEBUG] runtime - Worker waiting for function mvalenzuela-notes-ApiStack-Api-Lambda_DELETE_-notes-{id}
